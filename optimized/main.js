let currentver="v1.0.0";var ver,cdnurl;function loadGames(){$("#backarrow").hide(),$.getJSON(cdnurl+"/games.json",function(t){for(let e=0;e<t.length;e++){var n=$("<div>").prop({class:"game",style:"cursor: pointer;",id:t[e].directory}).append($("<img>").prop({src:cdnurl+"/"+t[e].directory+"/"+t[e].image,alt:t[e].name+" logo"})).append($("<h1>").text(t[e].name));$("#games").append(n)}})}function redirectGame(e,t){var n=document.createElement("iframe");$("#games").hide(),$("#backarrow").show(),$("#gametitle").show(),$("#gametitle").text(t),n.src=cdnurl+"/"+e+"/index.html",document.body.appendChild(n)}function exitGame(){$("iframe").remove(),$("#backarrow").hide(),$("#gametitle").hide(),$("#games").show()}async function getCDN(){checkVer(),$.getJSON("https://raw.githubusercontent.com/skysthelimitt/selenite-optimized/main/links.json",async function(e){cdnurls=e.urls;for(let e=0;e<cdnurls.length;e++){if((await(await fetch(cdnurls[e]+"/README.md")).text()).startsWith("## Selenite")){console.log("CDN Found: "+cdnurls[e]),cdnurl=cdnurls[e],loadGames();break}console.log("CDN Blocked: "+cdnurls[e])}cdnurl||alert("looks like none of the cdns are available, please check again later.")})}async function checkVer(){(await(await fetch("https://raw.githubusercontent.com/skysthelimitt/selenite-optimized/main/ver")).text()).startsWith(currentver)||confirm("Your Selenite Optimized version is currently out of date. Click OK to update, or click cancel to continue.")&&window.location.replace("https://raw.githubusercontent.com/skysthelimitt/selenite-optimized/main/build/bookmark.txt")}getCDN(),$(document).ready(function(){$(document).on("click",".game",function(e){redirectGame($(this).attr("id"),$(this).find("h1").text())})});